/*!
  * Jlw Utility Library
  * Copyright 2012-2023 Jason L Walker
  * Licensed under MIT (https://github.com/JasonLWalker/Jlw.Npm.libJlwUtility/blob/main/LICENSE)
  */
function libJlwUtility(n,t){function e(){var t=n.libPaths||{};i.get=tt;i.post=it;i.checkAjaxMessage=nt;i.showPleaseWait=k;i.hidePleaseWait=d;i.baseUrl="";r=i.jQuery('<div class="modal fade jlwPleaseWait" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" role="dialog"><div class="modal-dialog modal-dialog-centered" role="document"><div class="modal-content"><div class="modal-body"><div class="text-center"><button type="button" class="btn-close float-end" data-bs-dismiss="modal" aria-label="Close"><\/button><div class="h4"><span><\/span><div class="progress"><div class="progress-bar progress-bar-striped progress-bar-info progress-bar-animated" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 100%"><\/div><\/div><\/div><\/div><\/div><\/div><\/div><\/div>');i.pleaseWaitDiv=r;i.language={pleaseWait:"Processing...",notAuthorizedTitle:"Not Logged In",notAuthorized:"Either you have not completely logged in or your session has expired. Please log in and try again.",error:"An error has occurred"};i.debounce=i.debounce||rt;i.populateFormData=i.populateFormData||ut;i.setModalOnTop=i.setModalOnTop||b;i.serializeFormToJson=i.serializeFormToJson||y;i.messageTypes=i.messageTypes||f;i.formatDateString=i.formatDateString||v;i.zeroPad=i.zeroPad||a;i.redrawDataTableType=i.redrawDataTableType||"full-hold";i.redrawDataTable=i.redrawDataTable||ft;i.showNotification=i.showNotification||g;i.lazyLoadLibrary=i.lazyLoadLibrary||h;i.lazyLoadStyle=i.lazyLoadStyle||s;i.getHighestZIndex=i.getHighestZIndex||w;i.serializeMultipleFieldCallback=i.serializeMultipleFieldCallback||p;i.promiseInitBootstrap=i.lazyLoadLibrary(window.bootstrap&&window.bootstrap.Modal,t.Bootstrap);i.promiseInitFontAwesome=i.lazyLoadLibrary(window.FontAwesome,t.FontAwesome);i.promiseInitBootbox=i.lazyLoadLibrary(window.bootbox,t.Bootbox);i.promiseInitToastr=i.lazyLoadLibrary(window.toastr,t.Toastr);i.fireCallback(i.init);i.fireCallback(n.fnInit)}function o(t){var u=n.libPaths||{},f,r;typeof i.jQuery=="undefined"&&u.jQuery?(f=document.getElementsByTagName("head")[0],r=document.createElement("script"),r.type="text/javascript",r.src=u.jQuery,r.onload=function(){i.jQuery=window.jQuery;i.promiseInitJquery=i.jQuery.Deferred().resolve();i.fireCallback(t)},f.appendChild(r)):(typeof i.jQuery!="undefined"&&(i.promiseInitJquery=i.jQuery.Deferred().resolve()),i.fireCallback(t))}function s(n){var u=(n||"").replace(/^.*[/]([^/]*\.(?:min)?\.css).*$/i,"$1"),t=u||"",r=u||"";return!n||typeof n!="string"?i.jQuery.Deferred().fail():(t.includes(".min.css")||(t=t.replace(".css",".min.css")),r.includes(".min.css")&&(r=r.replace(".min.css",".css")),i.jQuery('link[href*="'+t+'"]').length>0||i.jQuery('link[href*="'+r+'"]').length>0||i.jQuery("head").append(i.jQuery('<link rel="stylesheet" type="text/css" />').attr("href",n)),i.jQuery.Deferred().resolve())}function h(n,t,r){if(n)return i.jQuery.Deferred().resolve;if(typeof t=="string"){var u=i.jQuery.extend(r||{cache:!0},{url:t,dataType:"script"});return i.jQuery.ajax(u)}return i.jQuery.Deferred().fail()}function c(n){typeof n=="function"&&n()}function l(n){o(n)}function a(n,t){return t||(t="000000000"),n||(n=""),n=n.trim(),t.substring(0,t.length-n.length)+n}function v(n,t){var i="";t||(t="YYYY-MM-DD");try{i=n?window.moment(n).format(t):""}catch(r){}return i}function y(n){var r=i.jQuery("input, select, textarea",n),u,t;return r.each(function(n,t){var r=i.jQuery(t);r.data("jlwIsDisabled",r.prop("disabled"));r.attr("disabled",!1)}),u=r.serializeArray(),t={},i.jQuery(u).each(function(n,r){t[r.name]&&i.serializeMultipleFieldCallback?(i.jQuery.isArray(t[r.name])||(t[r.name]=[t[r.name]]),t[r.name].push(r.value)):t[r.name]=r.value}),typeof i.serializeMultipleFieldCallback=="function"&&i.serializeMultipleFieldCallback(u,t),r.each(function(n,t){var r=i.jQuery(t);r.prop("disabled",r.data("jlwIsDisabled"))}),t}function p(n,t){i.jQuery(n).each(function(n,r){var e,u,f;if(i.jQuery.isArray(t[r.name]))for(e=t[r.name],u=r.name,t[u]="",f=0;f<e.length;f++)t[u]+=(t[u]?",":"")+e[f]})}function w(n){var t=-999;return i.jQuery("*").each(function(){var u=i.jQuery(this),r=parseInt(u.css("z-index"),10);r&&t<r&&u!=n&&(t=r)}),t}function b(n){var t=i.getHighestZIndex(n);try{n&&(n.data("bs.modal")._backdrop.css("z-index",t+1),n.css("z-index",t+2))}catch(r){}}function k(n){if(i.jQuery&&i.jQuery.fn&&i.jQuery.fn.modal){n==null&&(n=i.language.pleaseWait);i.jQuery(".h4>span",i.pleaseWaitDiv).html(n);i.jQuery("button.btn-close",i.pleaseWaitDiv).off().on("click",function(){i.hidePleaseWait()});var t=i.pleaseWaitDiv.appendTo("body");t.off("hidden.bs.modal").on("hidden.bs.modal",function(){i.jQuery(".modal.jlwPleaseWait").remove()});t.off("shown.bs.modal").on("shown.bs.modal",function(){i.setModalOnTop(t)});window.setTimeout(function(){t.modal("show")},10)}}function d(){if(i.jQuery&&i.jQuery.fn&&i.jQuery.fn.modal){var n=i.jQuery(".jlwPleaseWait");n.off("shown.bs.modal").on("shown.bs.modal",function(){n.modal("hide")});n.modal("hide")}}function g(n,t,r,u){function f(n,t,i){window.bootbox?window.bootbox.alert({title:n,message:t,callback:function(){i&&window.location.replace(i)}}):(window.alert(t),i&&window.location.replace(i))}r==null&&(r="info");r=r.toString().toLowerCase();switch(r){case"success":window.toastr&&window.toastr.success(t,n);break;case"info":window.toastr&&window.toastr.info(t,n);break;case"warning":window.toastr&&window.toastr.warning(t,n);break;case"danger":window.toastr&&window.toastr.warning(t,n);break;case"redirect":i.hidePleaseWait();f(t,n);break;case"alert":i.hidePleaseWait();f(t,n,u)}u&&r!="alert"&&window.setTimeout(function(){window.location.replace(u)},1500)}function nt(n,t,r){function u(n,t,r){if(window.bootbox){var u=window.bootbox.alert({title:n,message:t,callback:function(){r&&window.location.replace(r)}});i.setModalOnTop(u)}else window.alert(t),r&&window.location.replace(r)}if(r&&r.status===401&&r.getResponseHeader){var f=r.getResponseHeader("location");if(f)return f=f.replace(/ReturnUrl=[\w\W]*$/i,"ReturnUrl="+encodeURIComponent(window.location.pathname)),u(i.language.notAuthorizedTitle,i.language.notAuthorized,f),!1}if(!n||!n.ExceptionType&&!n.Message)return!1;if(n.ExceptionType)switch(n.ExceptionType.toLowerCase()){case"invalidloginexception":return i.hidePleaseWait(),u(i.language.notAuthorizedTitle,i.language.notAuthorized,i.baseUrl),!0;case"invalidtokenexception":return i.hidePleaseWait(),u(n.Message,n.ExceptionMessage,i.baseUrl),!0;case"statusfailexception":case"statusinvalidinputexception":case"system.exception":case"system.data.sqlclient.sqlexception":return i.hidePleaseWait(),window.toastr&&window.toastr.error(n.ExceptionMessage,n.Message),!0;default:n.Title=n.Message;n.Message=n.ExceptionMessage}if(n.MessageType!=null&&n.MessageType.toString())switch(n.MessageType.toString().toLowerCase()){case"success":case i.messageTypes.Success:window.toastr&&window.toastr.success(n.Message,n.Title);break;case"info":case i.messageTypes.Info:window.toastr&&window.toastr.info(n.Message,n.Title);break;case"warning":case i.messageTypes.Warning:window.toastr&&window.toastr.warning(n.Message,n.Title);break;case"danger":case i.messageTypes.Danger:window.toastr&&window.toastr.error(n.Message,n.Title);break;case"redirect":case i.messageTypes.Redirect:i.hidePleaseWait();u(n.Title,n.Message,n.RedirectUrl);break;case"alert":case i.messageTypes.Alert:i.hidePleaseWait();u(n.Title,n.Message)}return!1}function u(n,t,r){var u=null,f=new RegExp("application/json","i");u=f.test(n.getResponseHeader("content-type"))?i.jQuery.parseJSON(n.responseText):{Message:n.status+" - "+t+": "+r,MessageType:i.messageTypes.Danger,Title:i.language.error};i.checkAjaxMessage(u,t,n);i.hidePleaseWait()}function tt(n,t,r,f){function e(n,t,u){i.checkAjaxMessage(n)||typeof r=="function"&&r(n,t,u)}return typeof f!="function"&&(f=u),n=n+(-1===n.indexOf("?")?"?":"&")+"__="+Number(new Date),t?i.jQuery.ajax({url:n,type:"GET",contentType:"application/json",data:JSON.stringify(t),cache:!1}).done(e).fail(f):i.jQuery.getJSON(n).done(e).fail(f)}function it(n,t,r,f){function e(n,t,u){i.checkAjaxMessage(n)||typeof r=="function"&&r(n,t,u)}return typeof f=="undefined"&&(f=u),n=n+(-1===n.indexOf("?")?"?":"&")+"__="+Number(new Date),t?i.jQuery.ajax({url:n,type:"POST",contentType:"application/json",data:JSON.stringify(t),cache:!1}).done(e).fail(f):i.jQuery.ajax({url:n,type:"POST",contentType:"application/json",cache:!1}).done(e).fail(f)}function rt(n,t){var i=null;return function(){var r=this,u=arguments;clearTimeout(i);i=setTimeout(function(){n.apply(r,u)},t)}}function ut(n,t){var r=[],f="",u;r=i.jQuery("input:not([type=radio])",t).val("");r=i.jQuery("select",t).val("");r=i.jQuery("textarea",t).val("");r=i.jQuery("input[type=checkbox]",t).val("1").prop("checked",!1);for(u in n)r=i.jQuery("input[name="+u+"]",t),r[0]||(r=i.jQuery("select[name="+u+"]",t)),r[0]||(r=i.jQuery("textarea[name="+u+"]",t)),r[0]&&(r.prop("type")=="checkbox"?(r.prop("checked",n[u]),r.data("origValue",r.val())):r.prop("type")=="radio"?(f=n[u]?n[u].toString():"",r.each(function(n,t){var r=i.jQuery(t);r.prop("checked",r.val()==f)})):(f=n[u]?n[u].toString():"",r.val(f.trim()),r.data("origValue",r.val())))}function ft(n){i.jQuery(n).each(function(n,t){try{var r=i.jQuery(t).prop("id"),u=i.jQuery("#"+r).DataTable();u.draw(i.redrawDataTableType)}catch(f){}})}var r={},f={Success:"0",Warning:"1",Info:"2",Danger:"3",Alert:"4",Redirect:"5"},i;return n=n||{},i=n.this||this,i.jQuery=t||window.jQuery,i.fireCallback=i.fireCallback||c,l(e),i}
//# sourceMappingURL=libJlwUtility.min.js.map